{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","e","window","open","stopPropagation","splice","prompt","indexOf","console","log","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;AAEA,IAAMA,YAAYC,EAAE,WAAF,CAAlB;AACA,IAAMC,UAAUF,UAAUG,IAAV,CAAe,WAAf,CAAhB;AACA,IAAMC,IAAIC,aAAaC,OAAb,CAAqB,GAArB,CAAV;AACA,IAAMC,UAAUC,KAAKC,KAAL,CAAWL,CAAX,CAAhB,EAA+B;AAC/B,IAAMM,UAAUH,WAAW,CACvB,EAACI,MAAK,GAAN,EAAWC,KAAI,sBAAf,EADuB,EAEvB,EAACD,MAAK,GAAN,EAAYC,KAAI,0BAAhB,EAFuB,CAA3B;AAIA,IAAMC,cAAc,SAAdA,WAAc,CAACD,GAAD,EAAO;AACzB,SAAOA,IAAIE,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EACIA,OADJ,CACY,SADZ,EACuB,EADvB,EAEIA,OAFJ,CAEY,MAFZ,EAEoB,EAFpB,EAGIA,OAHJ,CAGY,MAHZ,EAGoB,EAHpB,CAAP,CADyB,CAIO;AAEjC,CAND;AAOA,IAAMC,SAAS,SAATA,MAAS,GAAI;AACff,YAAUG,IAAV,CAAe,iBAAf,EAAkCa,MAAlC,GADe,CAC4B;AAC3CN,UAAQO,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAe;AAC7B,QAAMC,MAAKnB,mGAIDiB,KAAKP,IAAL,CAAU,CAAV,CAJC,4DAMeE,YAAYK,KAAKN,GAAjB,CANf,oOAaDS,YAbC,CAaYnB,OAbZ,CAAX;AAcM;AACAkB,QAAIE,EAAJ,CAAO,OAAP,EAAgB,UAACC,CAAD,EAAK;AACnBC,aAAOC,IAAP,CAAYP,KAAKN,GAAjB;AACD,KAFD;AAGAQ,QAAIE,EAAJ,CAAO,OAAP,EAAgB,QAAhB,EAA0B,UAACC,CAAD,EAAK;AAC7BA,QAAEG,eAAF;AACAhB,cAAQiB,MAAR,CAAeR,KAAf,EAAqB,CAArB;AACAJ;AACD,KAJD;AAKP,GAxBD;AAyBH,CA3BD;AA4BAA;AACA;;;;;;;;;;;;;;;;;;;;AAoBAd,EAAE,YAAF,EACGqB,EADH,CACM,OADN,EACe,YAAI;AACd,MAAIV,MAAMY,OAAOI,MAAP,CAAc,aAAd,CAAV;AACA;AACA,MAAGhB,IAAIiB,OAAJ,CAAY,MAAZ,MAAwB,CAA3B,EAA6B;AACzB;AACAjB,UAAM,aAAaA,GAAnB;AACH;AACDkB,UAAQC,GAAR,CAAYnB,GAAZ;AACAF,UAAQsB,IAAR,CAAa;AACVrB,UAAKE,YAAYD,GAAZ,EAAiB,CAAjB,EAAoBqB,WAApB,EADK;AAEVrB,SAAKA,GAFK,EAAb;AAIAG;AACJ,CAdD;AAeA;AACAS,OAAOU,cAAP,GAAwB,YAAI;AACxBJ,UAAQC,GAAR,CAAY,QAAZ;AACA;AACA,MAAMI,SAAS3B,KAAK4B,SAAL,CAAe1B,OAAf,CAAf;AACAL,eAAagC,OAAb,CAAqB,GAArB,EAA0BF,MAA1B,EAJwB,CAIW;AACtC,CALD;;AAOA;AACA;AACAlC,EAAEqC,QAAF,EAAYhB,EAAZ,CAAe,UAAf,EAA2B,UAACC,CAAD,EAAK;AAC9B;AACA;AAF8B,MAGvBgB,GAHuB,GAGhBhB,CAHgB,CAGvBgB,GAHuB;;AAI9B,OAAI,IAAIC,IAAE,CAAV,EAAaA,IAAE9B,QAAQ+B,MAAvB,EAA+BD,GAA/B,EAAmC;AACjC,QAAG9B,QAAQ8B,CAAR,EAAW7B,IAAX,CAAgB+B,WAAhB,OAAkCH,GAArC,EAAyC;AACvCf,aAAOC,IAAP,CAAYf,QAAQ8B,CAAR,EAAW5B,GAAvB;AACD;AACF;AACF,CATD","file":"main.805d4a58.map","sourceRoot":"..\\src","sourcesContent":["// 新增一个网站只需要提供一个网址，怎么让用户输入网址呢？\r\n// 只需要弹一个框，也就是监听div的点击事件，用jQuery来监听\r\n// 搜索bootcdn 引入jQuery\r\n// 测试jQuery是否被引入 console.log(jQuery)\r\n\r\nconst $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.lastLi')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)  //把字符串变对象\r\nconst hashMap = xObject || [\r\n    {logo:'A', url:'https://www.acfun.cn'},\r\n    {logo:'B',  url:'https://www.bilibili.com'},\r\n]\r\nconst simplifyUrl = (url)=>{\r\n  return url.replace('https://', '')\r\n            .replace('http://', '')\r\n            .replace('www.', '')\r\n            .replace(/\\/.*/, '')  //删除/开头的内容知道结尾\r\n\r\n}\r\nconst render = ()=>{\r\n    $siteList.find('li:not(.lastLi)').remove() //hashMap重新渲染时，会多出两个li\r\n    hashMap.forEach((node, index)=>{\r\n      const $li= $(`\r\n        <li>\r\n          <div class=\"site\">\r\n            <div class=\"logo\">\r\n              ${node.logo[0]}\r\n            </div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <div class=\"close\">\r\n              <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-close_light\"></use>\r\n              </svg>  \r\n            </div>\r\n          </div>           \r\n        </li>`).insertBefore($lastLi)\r\n            //阻止点击x会冒泡\r\n            $li.on('click', (e)=>{\r\n              window.open(node.url)\r\n            })\r\n            $li.on('click', '.close', (e)=>{\r\n              e.stopPropagation()\r\n              hashMap.splice(index,1)\r\n              render()\r\n            })\r\n    })\r\n}\r\nrender()\r\n/*\r\n<li>\r\n          <a href=\"https://www.acfun.cn\">\r\n            <div class=\"site\">\r\n              <div class=\"logo\">A</div>\r\n              <div class=\"link\">acfun.cn</div>\r\n            </div>\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"https://www.bilibili.com/\">\r\n            <div class=\"site\">\r\n              <div class=\"logo\">\r\n                <img src=\"../images/bilibili.jpeg\" alt=\"\" />\r\n              </div>\r\n              <div class=\"link\">bilibili.com</div>\r\n            </div>\r\n          </a>\r\n        </li>\r\n*/\r\n$('.addButton')\r\n  .on('click', ()=>{\r\n     let url = window.prompt('请问你要添加的网址是啥') \r\n     //需要判断一下用户输入的网址是不是以http开头  url就是用户输入的网址\r\n     if(url.indexOf('http') !== 0){\r\n         // alert('请输入http开头的网址')\r\n         url = 'https://' + url\r\n     }\r\n     console.log(url)\r\n     hashMap.push({\r\n        logo:simplifyUrl(url)[0].toUpperCase(),\r\n        url: url}\r\n     )     \r\n     render()  \r\n})\r\n// 当用户退出网站之前触发什么\r\nwindow.onbeforeunload = ()=>{\r\n    console.log('页面要关闭了')\r\n    //把一个对象变成字符串\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x', string)  //意思时在本地存储里设置一个x，它的值就是string\r\n}\r\n\r\n// 监听键盘\r\n// document.addEventListener()\r\n$(document).on('keypress', (e)=>{\r\n  // 按的键盘键：e.key,但注意是小写\r\n  // const key = e.key 也就是\r\n  const {key} = e\r\n  for(let i=0; i<hashMap.length; i++){\r\n    if(hashMap[i].logo.toLowerCase() === key){\r\n      window.open(hashMap[i].url)\r\n    }\r\n  }\r\n})"]}